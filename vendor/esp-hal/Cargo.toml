# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2024"
rust-version = "1.88.0"
name = "esp-hal"
version = "1.0.0-rc.0"
build = "build.rs"
exclude = [
    "api-baseline",
    "MIGRATING-*",
    "CHANGELOG.md",
]
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "Bare-metal HAL for Espressif devices"
documentation = "https://docs.espressif.com/projects/rust/esp-hal/latest/"
readme = "README.md"
keywords = [
    "embedded",
    "embedded-hal",
    "esp32",
    "espressif",
    "hal",
]
categories = [
    "embedded",
    "hardware-support",
    "no-std",
]
license = "MIT OR Apache-2.0"
repository = "https://github.com/esp-rs/esp-hal"

[package.metadata.docs.rs]
default-target = "riscv32imac-unknown-none-elf"
features = [
    "esp32c6",
    "unstable",
]
rustdoc-args = [
    "--cfg",
    "docsrs",
]

[features]
__bluetooth = []
__esp_hal_embassy = []
__esp_wifi_builtin_scheduler = []
__usb_otg = [
    "dep:embassy-usb-driver",
    "dep:embassy-usb-synopsys-otg",
    "dep:esp-synopsys-usb-otg",
    "esp-synopsys-usb-otg/esp32sx",
    "esp-synopsys-usb-otg/fs",
]
default = ["rt"]
defmt = [
    "dep:defmt",
    "embassy-futures/defmt",
    "embassy-sync/defmt",
    "embedded-hal/defmt-03",
    "embedded-io?/defmt-03",
    "embedded-io-async?/defmt-03",
    "enumset/defmt",
    "esp32?/defmt",
    "esp32c2?/defmt",
    "esp32c3?/defmt",
    "esp32c6?/defmt",
    "esp32h2?/defmt",
    "esp32s2?/defmt",
    "esp32s3?/defmt",
    "fugit/defmt",
]
esp32 = [
    "dep:esp32",
    "procmacros/rtc-slow",
    "esp-rom-sys/esp32",
    "esp-metadata-generated/esp32",
]
esp32c2 = [
    "dep:esp32c2",
    "portable-atomic/unsafe-assume-single-core",
    "esp-rom-sys/esp32c2",
    "esp-metadata-generated/esp32c2",
]
esp32c3 = [
    "dep:esp32c3",
    "esp-riscv-rt/rtc-ram",
    "esp-rom-sys/esp32c3",
    "esp-metadata-generated/esp32c3",
]
esp32c6 = [
    "dep:esp32c6",
    "esp-riscv-rt/rtc-ram",
    "procmacros/has-lp-core",
    "esp-rom-sys/esp32c6",
    "esp-metadata-generated/esp32c6",
]
esp32h2 = [
    "dep:esp32h2",
    "esp-riscv-rt/rtc-ram",
    "esp-rom-sys/esp32h2",
    "esp-metadata-generated/esp32h2",
]
esp32s2 = [
    "dep:esp32s2",
    "portable-atomic/unsafe-assume-single-core",
    "procmacros/has-ulp-core",
    "procmacros/rtc-slow",
    "__usb_otg",
    "esp-rom-sys/esp32s2",
    "esp-metadata-generated/esp32s2",
]
esp32s3 = [
    "dep:esp32s3",
    "procmacros/has-ulp-core",
    "procmacros/rtc-slow",
    "__usb_otg",
    "esp-rom-sys/esp32s3",
    "esp-metadata-generated/esp32s3",
]
log-04 = ["dep:log-04"]
psram = []
requires-unstable = []
rt = [
    "dep:xtensa-lx-rt",
    "dep:esp-riscv-rt",
    "esp32?/rt",
    "esp32c2?/rt",
    "esp32c3?/rt",
    "esp32c6?/rt",
    "esp32h2?/rt",
    "esp32s2?/rt",
    "esp32s3?/rt",
]
unstable = [
    "dep:digest",
    "dep:embassy-embedded-hal",
    "dep:embedded-can",
    "dep:embedded-io",
    "dep:embedded-io-async",
    "dep:rand_core-06",
    "dep:rand_core-09",
    "dep:nb",
    "dep:ufmt-write",
]

[lib]
name = "esp_hal"
path = "src/lib.rs"
test = false
bench = false

[dependencies.bitfield]
version = "0.19.0"

[dependencies.bitflags]
version = "2.9.0"

[dependencies.bytemuck]
version = "1.22.0"

[dependencies.cfg-if]
version = "1.0.0"

[dependencies.critical-section]
version = "1.2.0"
features = ["restore-state-u32"]

[dependencies.defmt]
version = "1.0.1"
optional = true

[dependencies.delegate]
version = "0.13.3"

[dependencies.digest]
version = "0.10.7"
optional = true
default-features = false

[dependencies.document-features]
version = "0.2.11"

[dependencies.embassy-embedded-hal]
version = "0.3.0"
optional = true

[dependencies.embassy-futures]
version = "0.1.1"

[dependencies.embassy-sync]
version = "0.6.2"

[dependencies.embassy-usb-driver]
version = "0.1.0"
optional = true

[dependencies.embassy-usb-synopsys-otg]
version = "0.2.0"
optional = true

[dependencies.embedded-can]
version = "0.4.1"
optional = true

[dependencies.embedded-hal]
version = "1.0.0"

[dependencies.embedded-hal-async]
version = "1.0.0"

[dependencies.embedded-io]
version = "0.6.1"
optional = true

[dependencies.embedded-io-async]
version = "0.6.1"
optional = true

[dependencies.enumset]
version = "1.1.6"

[dependencies.esp-config]
version = "0.5.0"

[dependencies.esp-metadata-generated]
version = "0.1.0"

[dependencies.esp-rom-sys]
version = "0.1.1"

[dependencies.esp-synopsys-usb-otg]
version = "0.4.2"
optional = true

[dependencies.esp32]
version = "0.38.0"
features = [
    "critical-section",
    "rt",
]
optional = true

[dependencies.esp32c2]
version = "0.27.0"
features = [
    "critical-section",
    "rt",
]
optional = true

[dependencies.esp32c3]
version = "0.30.0"
features = [
    "critical-section",
    "rt",
]
optional = true

[dependencies.esp32c6]
version = "0.21.0"
features = [
    "critical-section",
    "rt",
]
optional = true

[dependencies.esp32h2]
version = "0.17.0"
features = [
    "critical-section",
    "rt",
]
optional = true

[dependencies.esp32s2]
version = "0.29.0"
features = [
    "critical-section",
    "rt",
]
optional = true

[dependencies.esp32s3]
version = "0.33.0"
features = [
    "critical-section",
    "rt",
]
optional = true

[dependencies.fugit]
version = "0.3.7"

[dependencies.instability]
version = "0.3.7"

[dependencies.log-04]
version = "0.4.27"
optional = true
package = "log"

[dependencies.nb]
version = "1.1.0"
optional = true

[dependencies.paste]
version = "1.0.15"

[dependencies.portable-atomic]
version = "1.11.0"
default-features = false

[dependencies.procmacros]
version = "0.19.0"
package = "esp-hal-procmacros"

[dependencies.rand_core-06]
version = "0.6.4"
optional = true
package = "rand_core"

[dependencies.rand_core-09]
version = "0.9.0"
optional = true
package = "rand_core"

[dependencies.strum]
version = "0.27.1"
features = ["derive"]
default-features = false

[dependencies.ufmt-write]
version = "0.1.0"
optional = true

[dev-dependencies.jiff]
version = "0.2.10"
features = ["static"]
default-features = false

[build-dependencies.cfg-if]
version = "1.0.0"

[build-dependencies.esp-config]
version = "0.5.0"
features = ["build"]

[build-dependencies.esp-metadata-generated]
version = "0.1.0"
features = ["build-script"]

[build-dependencies.serde]
version = "1.0.219"
features = ["derive"]
default-features = false

[target.'cfg(target_arch = "riscv32")'.dependencies.esp-riscv-rt]
version = "0.12.0"
optional = true

[target.'cfg(target_arch = "riscv32")'.dependencies.riscv]
version = "0.12.1"

[target.'cfg(target_arch = "xtensa")'.dependencies.xtensa-lx]
version = "0.12.0"

[target.'cfg(target_arch = "xtensa")'.dependencies.xtensa-lx-rt]
version = "0.20.0"
optional = true

[lints.clippy]
mixed_attributes_style = "allow"

[lints.rust.unexpected_cfgs]
level = "warn"
priority = 0
check-cfg = ['cfg(host_os, values("windows"))']
